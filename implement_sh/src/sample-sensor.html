

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>sample/sensor.h &mdash; CSC-ATAMO Dusty Project 0.6a (ALPHA) documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="CSC-ATAMO Dusty Project 0.6a (ALPHA) documentation" href="../../index.html"/>
        <link rel="up" title="Sensor Host Design" href="../main.html"/>
        <link rel="next" title="sample/0x00_AccelMagno/AccelMagno.h" href="sample-accelMagno.html"/>
        <link rel="prev" title="sample/frame.h" href="sample-frame.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> CSC-ATAMO Dusty Project
          

          
          </a>

          
            
            
              <div class="version">
                0.6a
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../toc.html">Table of Contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/home.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/handover.html">Hand-Over</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/main.html">Project How-To’s</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickRef/quickRef.html">Quick Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">System Design</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tech_arch/main.html">System Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tech_deploy/main.html">System Deployment</a></li>
</ul>
<p class="caption"><span class="caption-text">Implementation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../main.html">Sensor Host Design</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../sh_mainRoutine.html">Sensor Host Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sleep/sleep.html">Sleep Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sh_configurations.html">Sensor Host Configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/hardware_dustyDuinoProMap.html">Dusty-to-M7 Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../uart/dustyAvrIF.html">Dusty API UART</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sh_codeOrg.html">Code Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contrib/Modules.html">Sensor Host Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../time.html">System Timing</a></li>
<li class="toctree-l2"><a class="reference internal" href="dp_conf.html">dp_conf.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="dp_sm.html">dp_sm.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="dp_port.html">dp_port.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="usart-ISerial.html">usart/ISerial.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="usart-flow.html">usart/usart_flow.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="usart-vars.html">usart/usart_vars.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="sample-sample.html">sample/sample.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="sample-frame.html">sample/frame.h</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">sample/sensor.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="sample-accelMagno.html">sample/0x00_AccelMagno/AccelMagno.h</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../implement_nm/main.html">Network Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../implement_db/main.html">DynamoDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../implement_wa/main.html">Django Web Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tech_testing/main.html">Testing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">CSC-ATAMO Dusty Project</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../main.html">Sensor Host Design</a> &raquo;</li>
        
      <li>sample/sensor.h</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/implement_sh/src/sample-sensor.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sample-sensor-h">
<h1>sample/sensor.h<a class="headerlink" href="#sample-sensor-h" title="Permalink to this headline">¶</a></h1>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Defines</p>
<dl class="macro">
<dt id="c.DP_SENS__OUTPUTS_MAX">
<span class="target" id="sensor_8h_1a62b843976d2b7f21f4ff227c522c2f39"></span><code class="descname">DP_SENS__OUTPUTS_MAX</code><a class="headerlink" href="#c.DP_SENS__OUTPUTS_MAX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.DP_SENS__RESOLUTION_MAX">
<span class="target" id="sensor_8h_1a5c327e3cae499cd7c99e902f10364558"></span><code class="descname">DP_SENS__RESOLUTION_MAX</code><a class="headerlink" href="#c.DP_SENS__RESOLUTION_MAX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.DP_SENS__ACCEL_MAGNO">
<span class="target" id="sensor_8h_1a529d62914e1e57df4a8618c40c1294ae"></span><code class="descname">DP_SENS__ACCEL_MAGNO</code><a class="headerlink" href="#c.DP_SENS__ACCEL_MAGNO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.DP_SENS__STATUS_NOT_SET">
<span class="target" id="sensor_8h_1a11575a82efca971554bb5fc568c473d7"></span><code class="descname">DP_SENS__STATUS_NOT_SET</code><a class="headerlink" href="#c.DP_SENS__STATUS_NOT_SET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Functions</p>
<dl class="function">
<dt id="_CPPv211sensor_readP8uint16_t7uint8_t">
<span id="sensor_read__uint16_tP.uint8_t"></span><span class="target" id="sensor_8h_1a40763aa7493e185ba3db61cb17bf61c8"></span>uint8_t <code class="descname">sensor_read</code><span class="sig-paren">(</span>uint16_t *, uint8_t<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv211sensor_readP8uint16_t7uint8_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Manages the selection of sensor driver and reading of sensor data. </p>
<p>Checks that a sensor has been configured (if not, the sensor configuration routine is called), then calls the correct sensor driver function based on the sensor type recorded in SystemState.</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>0 on success, 1 on failure </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">buf</span></code>: buffer for storing sensor reading, passed to driver function </li>
<li><code class="docutils literal"><span class="pre">buf_size</span></code>: length of buffer in bytes (not number of elements)</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv224sensor_drive_accel_magno7uint8_tP8uint16_t">
<span id="sensor_drive_accel_magno__uint8_t.uint16_tP"></span><span class="target" id="sensor_8h_1ab4d22cd96c90e952c0201cad9071bec4"></span>uint8_t <code class="descname">sensor_drive_accel_magno</code><span class="sig-paren">(</span>uint8_t, uint16_t *<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv224sensor_drive_accel_magno7uint8_tP8uint16_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Read sensor data from the LSM303D accelerometer/magnetometer sensor. </p>
<p>Initiates communication with the LSM303D sensor, disables its low power mode and enables its outputs. Then acquires sensor data, storing this in the provided buffer. The sensor is returned to low power mode once sensor data is read.</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>0 on success, 1 on failure </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">sensor_addr</span></code>: module address at which sensor is located on the duinoPRO (1-6) </li>
<li><code class="docutils literal"><span class="pre">buf</span></code>: buffer for storing sensor reading, passed to driver function</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sample-accelMagno.html" class="btn btn-neutral float-right" title="sample/0x00_AccelMagno/AccelMagno.h" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sample-frame.html" class="btn btn-neutral" title="sample/frame.h" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, C7C.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.6a (ALPHA)',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>